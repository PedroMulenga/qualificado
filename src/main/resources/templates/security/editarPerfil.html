<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">

        <title>Contactar</title>
        <meta content="" name="description">
        <meta content="" name="keywords">

        <!-- Favicons -->
        <link href="/assets/img/favicon.png" rel="icon">
        <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

        <!-- Vendor CSS Files -->
        <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="/assets/vendor/icofont/icofont.min.css" rel="stylesheet">
        <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
        <link href="/assets/vendor/animate.css/animate.min.css" rel="stylesheet">
        <link href="/assets/vendor/venobox/venobox.css" rel="stylesheet">
        <link href="/assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="/assets/vendor/aos/aos.css" rel="stylesheet">
        <link href="/assets/vendor/remixicon/remixicon.css" rel="stylesheet">

        <!-- Template Main CSS File -->
        <link href="/assets/css/style.css" rel="stylesheet">

        <!-- =======================================================
      * Template Name: Company - v2.2.1
      * Template URL: https://bootstrapmade.com/company-free-html-bootstrap-template/
      * Author: BootstrapMade.com
      * License: https://bootstrapmade.com/license/
      ======================================================== -->
    </head>

    <body>

        <div th:replace="fragmentos/menuPrincipal :: menuPrincipal"></div> 

        <main id="main">

            <!-- ======= Breadcrumbs ======= -->
            <section id="breadcrumbs" class="breadcrumbs">
                <div class="container">

                    <div class="d-flex justify-content-between align-items-center">
                        <h2>Atualizar Perfil</h2>
                        <ol>
                            <li><a href="/">Início</a></li>
                            <li>Perfil</li>
                        </ol>
                    </div>

                </div>
            </section>
            <!-- End Breadcrumbs -->

            <section id="contact" class="contact">
                <div class="container">
                    <div class="section-title" data-aos="fade-up">
                        <h2><strong>Dados do Usuário</strong></h2>
                        <p>Esta tela lhe permite efectuar a actualização dos seus dados de usuário.
                            Altere somente se for necessário e não se esqueça de salvar o mesmo clicando no botão Guardar Alterações. Se não quizer proceder a alteração dos dados é só voltar a página inicial.</p>
                    </div>
                    <div class="row mt-5 justify-content-center" data-aos="fade-up">
                        <div class="col-lg-10">
                            <form method="POST" th:object="${usuario}" enctype="multipart/form-data"  th:action="@{/atualizarConta}" role="form" class="php-email-form">
                                <input type="hidden" th:field="*{codigo}"> 
                                <div class="col-lg-4 col-md-4 d-flex align-items-stretch">
                                    <div class="member" data-aos="fade-up">
                                        <div class="member-img">
                                            <img id="thumbal" th:src="@{/mostrarImagemUsuario/{imagem}(imagem=${usuario.nomeImagen})}" src="" class="img-fluid" alt="" style="border-radius: 5%;">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <input type="file" id="file" name="file" accept="image/png, image/jpeg" style="background: #bd1baf; color: #fff;" class="form-control" />
                                </div>
                                <div class="form-row">
                                    <div class="col-md-4 form-group">
                                        <input type="text" id="nome"  th:field="*{nome}" class="form-control" placeholder="Nome" data-rule="minlen:4" data-msg="O Nome deve conter pelo menos 4 caracteres" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="text" th:field="*{sobrenome}" class="form-control" placeholder="Sobrenome" data-rule="minlen:4" data-msg="O Nome deve conter pelo menos 4 caracteres" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="date" class="form-control" th:field="*{dataNascimento}" id="dataNascimento"  data-rule="dataNascimento" data-msg="Digite a data de Nascimento" />
                                        <div class="validate"></div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-md-6 form-group">
                                        <input type="email" th:field="*{email}" class="form-control" placeholder="E-mail" data-rule="email" data-msg="Digite um E-mail Válido" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <input type="text" th:field="*{bi}" class="form-control bi" placeholder="B.I" data-rule="14" data-msg="Digite o Nº do B.I" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <input type="text" class="form-control phone" th:field="*{telefone}" placeholder="Telefone" data-rule="telefone" data-msg="Digite o seu Telefone" />
                                        <div class="validate"></div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-md-4 form-group">
                                        <input type="text" th:field="*{nacionalidade}" class="form-control" placeholder="Nacionalidade" data-rule="minlen:3" data-msg="A nacionalidade deve conter ao menos 3 caracterres" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="text" th:field="*{provincia}" class="form-control" placeholder="Província" data-rule="minlen:2" data-msg="A província deve conter ao menos 3 caracteres" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="text" class="form-control" th:field="*{municipio}" placeholder="Município" data-rule="municipio" data-msg="Digite o município" />
                                        <div class="validate"></div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-md-4 form-group">
                                        <input type="text" th:field="*{bairro}" class="form-control" placeholder="Morada" data-rule="minlen:4" data-msg="Digite a morada" />
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <select id="genero" th:field="*{grupos}" class="form-control">
                                            <option value="">Tipo de usuário</option>
                                            <option th:each="grupo : ${grupos}" th:if="${grupo.nome!='Administrador'}" 
                                                    th:value="${grupo.codigo}" th:field="*{grupos}" th:text="${grupo.nome}"></option>
                                        </select>
                                        <span class="" style="color: #d43f3a;" th:if="${#fields.hasErrors('grupos')}" 
                                              th:errors="*{grupos}">
                                        </span>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <select id="genero" th:field="*{genero}" class="form-control">
                                            <option value="">Género</option>
                                            <option th:each="genero : ${T(com.qualificador.Enum.Genero).values()}"
                                                    th:value="${genero}" th:text="${genero}"></option>
                                        </select>
                                        <div class="validate"></div>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="text" class="form-control" th:field="*{profissao}" id="senha" placeholder="Profissão" />
                                        <span class="" style="color: #d43f3a;" th:if="${#fields.hasErrors('profissao')}" 
                                              th:errors="*{profissao}">
                                        </span>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="password" class="form-control" th:field="*{senha}" id="senha" placeholder="Senha" data-rule="senha" data-msg="Digite a Senha" />
                                        <span class="" style="color: #d43f3a;" th:if="${#fields.hasErrors('senha')}" 
                                              th:errors="*{senha}">
                                        </span>
                                    </div>
                                    <div class="col-md-4 form-group">
                                        <input type="password" class="form-control" th:field="*{confirmacaoSenha}" id="confirmacaoSenha" placeholder="Confirmar Senha" data-rule="confirmacaoSenha" data-msg="Digite a senha de confirmação" />
                                        <span class="" style="color: #d43f3a;" th:if="${#fields.hasErrors('confirmacaoSenha')}" 
                                              th:errors="*{confirmacaoSenha}">
                                        </span>
                                    </div>
                                    <div class="col-md-8 form-group">
                                        <textarea class="form-control" th:field="*{sobreMim}" name="message" rows="3" data-rule="required" placeholder="Sobre Mim"></textarea>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="loading">Carregando</div>
                                </div>
                                <div class="text-center"><button type="submit">Guardar Alterações</button></div>
                            </form>
                        </div>

                    </div>

                </div>
            </section>
            <!-- End Contact Section -->

        </main>
        <!-- End #main -->

        <!-- ======= Footer ======= -->
        <div th:replace="fragmentos/footer :: footer"></div> 

        <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

        <!-- Vendor JS Files -->
        <script src="/assets/vendor/jquery/jquery.min.js"></script>
        <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="/assets/vendor/jquery.easing/jquery.easing.min.js"></script>
        <!--script src="/assets/vendor/php-email-form/validate.js"></script-->
        <script src="/assets/vendor/jquery-sticky/jquery.sticky.js"></script>
        <script src="/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="/assets/vendor/venobox/venobox.min.js"></script>
        <script src="/assets/vendor/waypoints/jquery.waypoints.min.js"></script>
        <script src="/assets/vendor/owl.carousel/owl.carousel.min.js"></script>
        <script src="/assets/vendor/aos/aos.js"></script>

        <!-- Template Main JS File -->
        <script src="/assets/js/main.js"></script>
        <script th:src="@{/js/jquery.min.js}"></script>
        <script th:src="@{/js/vendors.min.js}"></script>
        <script th:src="@{/js/jquery.mask.js}"></script>
        <script th:src="@{/js/main.js}"></script> 

    </body>

</html>
